@import "tailwindcss";

/* Mobile Optimizations */
@layer base {
  /* Prevent horizontal scroll on mobile */
  html {
    overflow-x: hidden;
    -webkit-text-size-adjust: 100%;
  }
  
  body {
    overflow-x: hidden;
    /* Smooth momentum scrolling on iOS */
    -webkit-overflow-scrolling: touch;
    /* Prevent pull-to-refresh on mobile */
    overscroll-behavior-y: contain;
    /* Support safe area insets for notched devices */
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
  
  /* Better touch targets - minimum 44x44px for accessibility */
  button, a, input, select, textarea, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Smooth scrolling with momentum */
  * {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Optimize touch interactions */
  button, a, [role="button"] {
    -webkit-tap-highlight-color: rgba(0, 255, 255, 0.1);
    touch-action: manipulation;
  }
  
  /* Improve input focus on mobile */
  input:focus, textarea:focus, select:focus {
    font-size: 16px; /* Prevent iOS zoom on focus */
  }
  
  /* Mobile-friendly text */
  @media (max-width: 640px) {
    html {
      font-size: 14px; /* Slightly smaller base font on mobile */
    }
    
    /* Tighter spacing on mobile */
    .container {
      padding-left: 1rem;
      padding-right: 1rem;
    }
  }
  
  /* Tablet optimizations */
  @media (min-width: 641px) and (max-width: 1024px) {
    html {
      font-size: 15px;
    }
  }
  
  /* Prevent text selection during touch interactions */
  .touch-manipulate {
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
  }
  
  /* Canvas/Graph container optimizations */
  canvas {
    touch-action: none; /* Allow gesture handlers to prevent default */
    -webkit-user-select: none;
    user-select: none;
  }
  
  /* Scrollable containers */
  .scrollable {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
  
  /* Fix iOS viewport height issues */
  .min-h-screen {
    min-height: 100vh;
    /* Fallback for browsers that don't support dvh */
    min-height: 100dvh;
  }
  
  .h-screen {
    height: 100vh;
    height: 100dvh;
  }
}
